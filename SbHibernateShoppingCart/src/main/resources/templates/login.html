<!DOCTYPE html>
<!-- Created By CodingNepal -->
<html xmlns:th="http://www.thymeleaf.org" dir="ltr">

<head>
<meta charset="utf-8">
<!-- Somehow I got an error, so I comment the title, just uncomment to show -->
<!-- <title>Login & Signup Form | CodingNepal</title> -->
<link rel="stylesheet" th:href="@{../css/login.css}">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
	
	<div class="wrapper">
	<th:block th:if="${#session != null && #session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}">
             <div th:if= "${#request.getParameter('error') == 'true'}"
                style="color: red; margin: 10px 0px;">
                Login Failed!!!<br /> Reason :
                <span th:utext="${#session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION').message}"></span>
             </div>
         </th:block>
		<div class="title-text">
			<div class="title login">Login Form</div>
			<div class="title signup" th:href="@{/user/register}">Signup
				Form</div>
		</div>
		<div class="form-container">
			<div class="slide-controls">
				<input type="radio" name="slide" id="login" checked> <input
					type="radio" name="slide" id="signup"> <label for="login"
					class="slide login">Login</label> <label for="signup"
					class="slide signup">Signup</label>
				<div class="slider-tab"></div>
			</div>
			<div class="form-inner">
				<form th:action="@{/j_spring_security_check}" class="login" method="post">
					<div class="field">
						<input type="text" name="userName" placeholder="Enter UserName"
							required>
					</div>
					<div class="field">
						<input type="password" name="password"
							placeholder="Enter Password" required>
					</div>
					<div class="pass-link">
						<a href="#">Forgot password?</a>
					</div>
					<div class="field btn">
						<div class="btn-layer"></div>
						<input type="submit" value="Login">
					</div>
					<div class="signup-link">
						<a th:href="@{/user/register}">Signup now</a>
					</div>
				</form>
				<!-- <form th:action="@{/user/register2}" class="signup"
					th:object="${USERM}" method="post">
					<div class="field">
						<input type="text" th:field="*{username}" name="username"
							placeholder="Enter Username" required>
					</div>
					<div class="field">
						<input type="password" th:field="*{password}" name="password"
							placeholder="Enter Password" required>
					</div>
					<div class="field">
						<input type="text" th:field="*{fullname}" name="Fullname"
							placeholder="Enter Fullname" required>
					</div>
					<div class="field">
						<input type="text" th:field="*{age}" name="Age"
							placeholder="Enter Age" required>
					</div>
					<div class="radio">
						value = 1 ==> Nam| 0 ==>Nu
						<div class="slide-controls">
							<input type="radio" th:field="*{gender}"
								name="slide" value="1" id="gender1">
							<input
								type="radio" th:field="*{gender}" name="slide"
								checked="checked" value="0" id="gender2">
								<label for="login" class="slide login">Login</label>
								<label for="signup" class="slide signup">Signup</label>
						</div>
					</div>
					<div class="field btn">
						<div class="btn-layer"></div>
						<input type="submit" value="Signup">
					</div>
				</form> -->
			</div>
		</div>
	</div>
	<script>
        const loginText = document.querySelector(".title-text .login");
        const loginForm = document.querySelector("form.login");
        const loginBtn = document.querySelector("label.login");
        const signupBtn = document.querySelector("label.signup");
        const signupLink = document.querySelector("form .signup-link a");
        signupBtn.onclick = (() => {
            loginForm.style.marginLeft = "-50%";
            loginText.style.marginLeft = "-50%";
        });
        loginBtn.onclick = (() => {
            loginForm.style.marginLeft = "0%";
            loginText.style.marginLeft = "0%";
        });
        signupLink.onclick = (() => {
            signupBtn.click();
            return false;
        });
    </script>

</body>

</html>
