<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:include="fragments/head"></th:block>
<body>
	<!-- Page Wrapper -->
	<div id="wrapper">
		<th:block th:include="fragments/sidebar"></th:block>
		<!-- Main Panel -->
		<div class="main-panel">
			<th:block th:include="fragments/navbar"></th:block>
			<!-- Begin Page Content -->
			<div class="content">
				<div class="container-fluid">
					<div class="row">
						<div class="col-md-12">
							<div class="card">
								<div class="header">
									<h4 class="title">Add new Book</h4>
									<p class="category">fill out & click save</p>
								</div>
								<div class="content">
									<form th:action="@{/admin/book}" method="post"
										th:object="${bookForm}" enctype="multipart/form-data">
										<div class="form-group">
											<label for="id">Id</label>
											<input id="fcode" style="color: red;" name="fcode" th:field="*{newBook}" type="hidden" />
							                  <input class="form-control"th:if="${bookForm.newBook}" type="text"
							                     th:field="*{id}" />
							                  <th:block th:if="${!bookForm.newBook}">   
							                       <span th:utext="${bookForm.id}"></span>   
							                       <input class="form-control" id="fcode" type="hidden" th:field="*{id}" />                                       
							                  </th:block>
										</div>
										<div class="form-group">
											<label for="name">Name</label> <input type="text"
												class="form-control" id="name" aria-describedby="name"
												th:field="*{name}">
										</div>
										<div class="form-group">
											<label for="image">Image</label>
											<img th:src="@{|/bookImage?code=${bookForm.id}|}" width="100"/> <br><br>
											 <input type="file"
												class="form-control" id="image" aria-describedby="image"	
												th:field="*{fileData}">
										</div>

										<div class="form-group">
											<label for="author">Author</label><input id="author"
												class="form-control" th:field="*{author}">
										</div>
										
										<div class="form-group">
										<label for="category">Category</label>
											<select th:field="*{category_id}">
								                     <option value="">--</option>
								                     <option th:each="category : ${categories}"
								                        th:value="${category.id}"
								                        th:utext="${category.name}"/>
								                  </select>
										</div>
										<div class="form-group">
											<label for="publishingCompany">PublishingCompany</label><input
												id="publishingCompany" class="form-control"
												th:field="*{publishing_Company}">
												<!-- <option th:each="publishingCompany : ${publishingCompany}"
													th:text="${publishingCompany.name}"
													th:value="${publishingCompany.id}"></option>
											</select> -->
										</div>
										<div class="form-group">
											<label for="description">Description</label>
											<textarea rows="4" type="textarea" class="form-control"
												id="description" th:field="*{description}" /></textarea>
										</div>
										<button type="submit" class="btn btn-primary">Save</button>
										<a th:href="@{'/backend/book/list'}" class="btn btn-default">Cancel</a>
									</form>
								</div>
							</div>
						</div>
					</div>
					<!-- /.container-fluid -->
				</div>
				<!-- /.content -->
			</div>
			<!-- End of Main Panel -->
			<th:block th:include="fragments/footer"></th:block>
		</div>
		<th:block th:include="fragments/scripts"></th:block>
</body>
</html>